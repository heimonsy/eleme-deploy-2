{% extends 'layout.login' %}
{% block main %}
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Register</h3>
                    </div>
                    <div class="panel-body" id="register-panel">
                    </div>
                </div>
            </div>
        </div>
{% endblock main %}
{% block footer_js%}
<script>
    renderRegisterForm(document.getElementById('register-panel'), {{ data | raw }});
    $(function () {
        $('#registerBtn').click(function (e) {
            var email = $("input[name=email]");
            var name = $("input[name=name]");
            if (!email.val().isEmail()) {
                email.focus();
                email.parent().attr('class', 'form-group has-error');
                alert("email 格式不正确");
                return false;
            }
            if (name.val().isEmpty()) {
                name.focus();
                name.parent().attr('class', 'form-group has-error');
                alert("名字不能为空");
                return false;
            }
        });
    });
</script>
{% endblock footer_js%}
